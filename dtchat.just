run socket="tcp" instance="1" delay="":
    #!/bin/bash
    # Validation des paramÃ¨tres
    if [[ "{{socket}}" != "tcp" && "{{socket}}" != "udp" ]]; then
        echo "âŒ Erreur: socket doit Ãªtre 'tcp' ou 'udp', reÃ§u: {{socket}}"
        exit 1
    fi

    if [[ "{{instance}}" != "1" && "{{instance}}" != "2" ]]; then
        echo "âŒ Erreur: instance doit Ãªtre '1' ou '2', reÃ§u: {{instance}}"
        exit 1
    fi

    echo "ğŸš€ DÃ©marrage de l'instance DTChat avec config: db/local/{{socket}}-{{instance}}.yaml"
    export DTCHAT_CONFIG=db/local/{{socket}}-{{instance}}.yaml
    if [ -n "{{delay}}" ]; then
        export DTCHAT_ACK_DELAY={{delay}}
        cargo run --features ack-delay
    else
        cargo run
    fi